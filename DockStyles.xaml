<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:dockish="clr-namespace:Dockish">

	<ControlTemplate x:Key="DockTemplate" TargetType="{x:Type dockish:Dock}">
		<Grid>

			<Rectangle Fill="#01010101" Height="6" VerticalAlignment="Top"/>

			<Grid Background="#01010101">

				<Grid.RenderTransform>
					<TranslateTransform x:Name="PART_Translate"/>
				</Grid.RenderTransform>

				<Grid x:Name="PART_Background" Height="24" VerticalAlignment="Top">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto"/>
						<ColumnDefinition />
						<ColumnDefinition Width="Auto"/>
					</Grid.ColumnDefinitions>

					<Path
						Grid.Column="0"
						VerticalAlignment="Top"
						Fill="Black"
						Margin="0,0,-1,0">
						<Path.Data>
							<CombinedGeometry GeometryCombineMode="Exclude">
								<CombinedGeometry.Geometry1>
									<RectangleGeometry Rect="0,0 10,10" />
								</CombinedGeometry.Geometry1>
								<CombinedGeometry.Geometry2>
									<EllipseGeometry
										Center="0,10"
										RadiusX="10"
										RadiusY="10" />
								</CombinedGeometry.Geometry2>
							</CombinedGeometry>
						</Path.Data>
					</Path>

					<Border
						Grid.Column="1"
						Background="Black"
						CornerRadius="0,0,10,10"/>

					<Path
						Grid.Column="2"
						VerticalAlignment="Top"
						Fill="Black"
						Margin="-1,0,0,0">
						<Path.Data>
							<CombinedGeometry GeometryCombineMode="Exclude">
								<CombinedGeometry.Geometry1>
									<RectangleGeometry Rect="0,0 10,10" />
								</CombinedGeometry.Geometry1>
								<CombinedGeometry.Geometry2>
									<EllipseGeometry
										Center="10,10"
										RadiusX="10"
										RadiusY="10" />
								</CombinedGeometry.Geometry2>
							</CombinedGeometry>
						</Path.Data>
					</Path>
				</Grid>

				<ContentPresenter Content="{TemplateBinding Content}" Margin="32,0"/>
			</Grid>
		</Grid>

		<ControlTemplate.Triggers>
			<Trigger Property="ShowBackground" Value="False">
				<Trigger.EnterActions>
					<BeginStoryboard>
						<Storyboard>
							<DoubleAnimation
								Storyboard.TargetName="PART_Background"
								Storyboard.TargetProperty="Opacity"
								To="0"
								Duration="0:0:0.150">
								<DoubleAnimation.EasingFunction>
									<SineEase EasingMode="EaseOut" />
								</DoubleAnimation.EasingFunction>
							</DoubleAnimation>
						</Storyboard>
					</BeginStoryboard>
				</Trigger.EnterActions>
				<Trigger.ExitActions>
					<BeginStoryboard>
						<Storyboard>
							<DoubleAnimation
								Storyboard.TargetName="PART_Background"
								Storyboard.TargetProperty="Opacity"
								To="1"
								Duration="0:0:0.250">
								<DoubleAnimation.EasingFunction>
									<SineEase EasingMode="EaseIn" />
								</DoubleAnimation.EasingFunction>
							</DoubleAnimation>
						</Storyboard>
					</BeginStoryboard>
				</Trigger.ExitActions>
			</Trigger>

			<Trigger Property="ShowDock" Value="False">
				<Trigger.EnterActions>
					<BeginStoryboard>
						<Storyboard>
							<DoubleAnimation
								Storyboard.TargetName="PART_Translate"
								Storyboard.TargetProperty="Y"
								To="-50"
								Duration="0:0:0.150">
								<DoubleAnimation.EasingFunction>
									<SineEase EasingMode="EaseOut" />
								</DoubleAnimation.EasingFunction>
							</DoubleAnimation>
						</Storyboard>
					</BeginStoryboard>
				</Trigger.EnterActions>
				<Trigger.ExitActions>
					<BeginStoryboard>
						<Storyboard>
							<DoubleAnimation
								Storyboard.TargetName="PART_Translate"
								Storyboard.TargetProperty="Y"
								To="0"
								Duration="0:0:0.250">
								<DoubleAnimation.EasingFunction>
									<SineEase EasingMode="EaseIn" />
								</DoubleAnimation.EasingFunction>
							</DoubleAnimation>
						</Storyboard>
					</BeginStoryboard>
				</Trigger.ExitActions>
			</Trigger>
		</ControlTemplate.Triggers>

	</ControlTemplate>

	<Style TargetType="{x:Type dockish:Dock}">
		<Setter Property="Template" Value="{StaticResource DockTemplate}"/>
		<Setter Property="HorizontalAlignment" Value="Center"/>
		<Setter Property="VerticalAlignment" Value="Top"/>
	</Style>

</ResourceDictionary>